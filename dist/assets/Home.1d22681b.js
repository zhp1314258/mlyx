import{c as q,t as B,n as O,m as V,d as L,r as J,a as Z,u as re,b as x,w as D,e as Ce,f as ke,g as Be,o as ue,h as ze,i as Ge,j as Re,k as Ee,l as De,p as n,q as ie,s as de,v as M,x as Oe,y as K,z as U,A as ve,B as Q,C as Ae,D as Me,E as Ne,F as He,G as Ve,H as Ye,I as qe,J as Le,K as z,L as Y,M as i,N as j,O as fe,P as _e,Q as Ue,R as he,S as m,_ as Xe,T as ce,U as We,V as F,W as T,X as Ke,Y as je,Z as Fe}from"./index.1fa6b4cd.js";import{u as Je,a as ge,g as Qe}from"./index.b736cb1d.js";const[me,N]=q("swipe"),Ze={loop:B,width:O,height:O,vertical:Boolean,autoplay:V(0),duration:V(500),touchable:B,lazyRender:Boolean,initialSwipe:V(0),indicatorColor:String,showIndicators:B,stopPropagation:B},pe=Symbol(me);var et=L({name:me,props:Ze,emits:["change"],setup(e,{emit:r,slots:c}){const u=J(),_=J(),t=Z({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),h=Je(),{children:g,linkChildren:S}=re(pe),a=x(()=>g.length),l=x(()=>t[e.vertical?"height":"width"]),o=x(()=>e.vertical?h.deltaY.value:h.deltaX.value),v=x(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-l.value*a.value:0),$=x(()=>l.value?Math.ceil(Math.abs(v.value)/l.value):a.value),w=x(()=>a.value*l.value),P=x(()=>(t.active+a.value)%a.value),C=x(()=>{const s=e.vertical?"vertical":"horizontal";return h.direction.value===s}),X=x(()=>{const s={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${t.offset}px)`};if(l.value){const f=e.vertical?"height":"width",d=e.vertical?"width":"height";s[f]=`${w.value}px`,s[d]=e[d]?`${e[d]}px`:""}return s}),be=s=>{const{active:f}=t;return s?e.loop?K(f+s,-1,a.value):K(f+s,0,$.value):f},ee=(s,f=0)=>{let d=s*l.value;e.loop||(d=Math.min(d,-v.value));let b=f-d;return e.loop||(b=K(b,v.value,0)),b},I=({pace:s=0,offset:f=0,emitChange:d})=>{if(a.value<=1)return;const{active:b}=t,p=be(s),E=ee(p,f);if(e.loop){if(g[0]&&E!==v.value){const W=E<v.value;g[0].setOffset(W?w.value:0)}if(g[a.value-1]&&E!==0){const W=E>0;g[a.value-1].setOffset(W?-w.value:0)}}t.active=p,t.offset=E,d&&p!==b&&r("change",P.value)},A=()=>{t.swiping=!0,t.active<=-1?I({pace:a.value}):t.active>=a.value&&I({pace:-a.value})},ye=()=>{A(),h.reset(),M(()=>{t.swiping=!1,I({pace:-1,emitChange:!0})})},te=()=>{A(),h.reset(),M(()=>{t.swiping=!1,I({pace:1,emitChange:!0})})};let ae;const G=()=>clearTimeout(ae),R=()=>{G(),e.autoplay>0&&a.value>1&&(ae=setTimeout(()=>{te(),R()},+e.autoplay))},k=(s=+e.initialSwipe)=>{if(!u.value)return;const f=()=>{var d,b;if(!ie(u)){const p={width:u.value.offsetWidth,height:u.value.offsetHeight};t.rect=p,t.width=+((d=e.width)!=null?d:p.width),t.height=+((b=e.height)!=null?b:p.height)}a.value&&(s=Math.min(a.value-1,s)),t.active=s,t.swiping=!0,t.offset=ee(s),g.forEach(p=>{p.setOffset(0)}),R()};ie(u)?de().then(f):f()},se=()=>k(t.active);let oe;const $e=s=>{!e.touchable||(h.start(s),oe=Date.now(),G(),A())},Se=s=>{e.touchable&&t.swiping&&(h.move(s),C.value&&(!e.loop&&(t.active===0&&o.value>0||t.active===a.value-1&&o.value<0)||(Oe(s,e.stopPropagation),I({offset:o.value}))))},ne=()=>{if(!e.touchable||!t.swiping)return;const s=Date.now()-oe,f=o.value/s;if((Math.abs(f)>.25||Math.abs(o.value)>l.value/2)&&C.value){const b=e.vertical?h.offsetY.value:h.offsetX.value;let p=0;e.loop?p=b>0?o.value>0?-1:1:0:p=-Math[o.value>0?"ceil":"floor"](o.value/l.value),I({pace:p,emitChange:!0})}else o.value&&I({pace:0});t.swiping=!1,R()},Pe=(s,f={})=>{A(),h.reset(),M(()=>{let d;e.loop&&s===a.value?d=t.active===0?0:s:d=s%a.value,f.immediate?M(()=>{t.swiping=!1}):t.swiping=!1,I({pace:d-t.active,emitChange:!0})})},Ie=(s,f)=>{const d=f===P.value,b=d?{backgroundColor:e.indicatorColor}:void 0;return n("i",{style:b,class:N("indicator",{active:d})},null)},Te=()=>{if(c.indicator)return c.indicator({active:P.value,total:a.value});if(e.showIndicators&&a.value>1)return n("div",{class:N("indicators",{vertical:e.vertical})},[Array(a.value).fill("").map(Ie)])};return ge({prev:ye,next:te,state:t,resize:se,swipeTo:Pe}),S({size:l,props:e,count:a,activeIndicator:P}),D(()=>e.initialSwipe,s=>k(+s)),D(a,()=>k(t.active)),D(()=>e.autoplay,R),D([Ce,ke],se),D(Be(),s=>{s==="visible"?R():G()}),ue(k),ze(()=>k(t.active)),Ge(()=>k(t.active)),Re(G),Ee(G),De("touchmove",Se,{target:_}),()=>{var s;return n("div",{ref:u,class:N()},[n("div",{ref:_,style:X.value,class:N("track",{vertical:e.vertical}),onTouchstartPassive:$e,onTouchend:ne,onTouchcancel:ne},[(s=c.default)==null?void 0:s.call(c)]),Te()])}}});const tt=U(et),[at,st]=q("swipe-item");var ot=L({name:at,setup(e,{slots:r}){let c;const u=Z({offset:0,inited:!1,mounted:!1}),{parent:_,index:t}=ve(pe);if(!_)return;const h=x(()=>{const a={},{vertical:l}=_.props;return _.size.value&&(a[l?"height":"width"]=`${_.size.value}px`),u.offset&&(a.transform=`translate${l?"Y":"X"}(${u.offset}px)`),a}),g=x(()=>{const{loop:a,lazyRender:l}=_.props;if(!l||c)return!0;if(!u.mounted)return!1;const o=_.activeIndicator.value,v=_.count.value-1,$=o===0&&a?v:o-1,w=o===v&&a?0:o+1;return c=t.value===o||t.value===$||t.value===w,c}),S=a=>{u.offset=a};return ue(()=>{de(()=>{u.mounted=!0})}),ge({setOffset:S}),()=>{var a;return n("div",{class:st(),style:h.value},[g.value?(a=r.default)==null?void 0:a.call(r):null])}}});const nt=U(ot),[xe,it]=q("grid"),ct={square:Boolean,center:B,border:B,gutter:O,reverse:Boolean,iconSize:O,direction:String,clickable:Boolean,columnNum:V(4)},we=Symbol(xe);var lt=L({name:xe,props:ct,setup(e,{slots:r}){const{linkChildren:c}=re(we);return c({props:e}),()=>{var u;return n("div",{style:{paddingLeft:Q(e.gutter)},class:[it(),{[Ae]:e.border&&!e.gutter}]},[(u=r.default)==null?void 0:u.call(r)])}}});const rt=U(lt),[ut,H]=q("grid-item"),dt=Me({},Ne,{dot:Boolean,text:String,icon:String,badge:O,iconColor:String,iconPrefix:String,badgeProps:Object});var vt=L({name:ut,props:dt,setup(e,{slots:r}){const{parent:c,index:u}=ve(we),_=He();if(!c)return;const t=x(()=>{const{square:l,gutter:o,columnNum:v}=c.props,$=`${100/+v}%`,w={flexBasis:$};if(l)w.paddingTop=$;else if(o){const P=Q(o);w.paddingRight=P,u.value>=v&&(w.marginTop=P)}return w}),h=x(()=>{const{square:l,gutter:o}=c.props;if(l&&o){const v=Q(o);return{right:v,bottom:v,height:"auto"}}}),g=()=>{if(r.icon)return n(qe,Ye({dot:e.dot,content:e.badge},e.badgeProps),{default:r.icon});if(e.icon)return n(Le,{dot:e.dot,name:e.icon,size:c.props.iconSize,badge:e.badge,class:H("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},S=()=>{if(r.text)return r.text();if(e.text)return n("span",{class:H("text")},[e.text])},a=()=>r.default?r.default():[g(),S()];return()=>{const{center:l,border:o,square:v,gutter:$,reverse:w,direction:P,clickable:C}=c.props,X=[H("content",[P,{center:l,square:v,reverse:w,clickable:C,surround:o&&$}]),{[Ve]:o}];return n("div",{class:[H({square:v})],style:t.value},[n("div",{role:C?"button":void 0,class:X,style:h.value,tabindex:C?0:void 0,onClick:_},[a()])])}}});const ft=U(vt);const _t={class:"good"},ht={class:"good-header"},gt={class:"title"},mt={class:"good-box"},pt={class:"img_box"},xt=["src"],wt={class:"good-desc"},bt={class:"title"},yt={class:"price"},le={__name:"Goods",props:{dataItem:{type:Array,default:[]},title:{type:String,default:"\u9ED8\u8BA4\u6807\u9898"}},setup(e){return(r,c)=>{const u=Ue("router-link");return z(),Y("div",_t,[i("div",ht,[i("div",gt,j(e.title),1)]),i("ul",mt,[(z(!0),Y(fe,null,_e(e.dataItem,_=>(z(),he(u,{class:"good-item",tag:"li",to:"/info"},{default:m(()=>[i("div",pt,[i("img",{src:_.goodsCoverImg,alt:""},null,8,xt)]),i("div",wt,[i("div",bt,"\uFFE5"+j(_.goodsName),1),i("div",yt,"\uFFE5"+j(_.sellingPrice),1)])]),_:2},1024))),256))])])}}};const y=e=>(je("data-v-47a061de"),e=e(),Fe(),e),$t={class:"home_box"},St=y(()=>i("span",{class:"iconfont icon-gengduo",style:{"font-size":"0.45rem"}},null,-1)),Pt=[St],It=Ke('<div class="middle_box" data-v-47a061de><div class="search" data-v-47a061de><span class="search_left" data-v-47a061de>\u7801\u8DEF\u4E25\u9009</span><span class="search_center" data-v-47a061de></span><span class="search_right" data-v-47a061de>\u5168\u5FC3\u5168\u610F\u4E3A\u5B66\u5458\u670D\u52A1</span></div></div>',1),Tt=y(()=>i("span",{class:"iconfont icon-wode",style:{"font-size":"0.45rem"}},null,-1)),Ct=[Tt],kt=["src"],Bt=y(()=>i("span",{class:"text"},"\u7801\u8DEF\u8D85\u5E02",-1)),zt=y(()=>i("span",{class:"text"},"\u7801\u8DEF\u670D\u9970",-1)),Gt=y(()=>i("span",{class:"text"},"\u5168\u7403\u8D2D",-1)),Rt=y(()=>i("span",{class:"text"},"\u7801\u8DEF\u751F\u9C9C",-1)),Et=y(()=>i("span",{class:"text"},"\u7801\u8DEF\u5230\u5BB6",-1)),Dt=y(()=>i("span",{class:"text"},"\u5145\u503C\u7F34\u8D39",-1)),Ot=y(()=>i("span",{class:"text"},"9.9\u5143\u62FC",-1)),At=y(()=>i("span",{class:"text"},"\u9886\u5238",-1)),Mt=y(()=>i("span",{class:"text"},"\u7701\u94B1",-1)),Nt=y(()=>i("span",{class:"text"},"\u5168\u90E8",-1)),Ht={__name:"Home",setup(e){ce(),ce();let r=J(!0),c=Z({carousels:[],hotGoodses:[],newGoodses:[],recommendGoodses:[]}),{carousels:u,hotGoodses:_,newGoodses:t,recommendGoodses:h}=We(c);return Qe().then(g=>{c.carousels=g.data.carousels,g.data.newGoodses.forEach(S=>{c.newGoodses.push(S)}),g.data.recommendGoodses.forEach(S=>{c.recommendGoodses.push(S)})}),(g,S)=>{const a=nt,l=tt,o=ft,v=rt;return z(),Y("div",$t,[i("header",{class:F(["header_box",{active:!T(r)}])},[i("div",{class:F(["left_box",{blue:T(r),white:!T(r)}])},Pt,2),It,i("div",{class:F(["right_box",{blue:T(r),white:!T(r)}])},Ct,2)],2),n(l,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:m(()=>[(z(!0),Y(fe,null,_e(T(u),$=>(z(),he(a,{key:$.carouselUrl},{default:m(()=>[i("img",{src:$.carouselUrl,alt:""},null,8,kt)]),_:2},1024))),128))]),_:1}),n(v,{"column-num":5},{default:m(()=>[n(o,null,{default:m(()=>[Bt]),_:1}),n(o,null,{default:m(()=>[zt]),_:1}),n(o,null,{default:m(()=>[Gt]),_:1}),n(o,null,{default:m(()=>[Rt]),_:1}),n(o,null,{default:m(()=>[Et]),_:1}),n(o,null,{default:m(()=>[Dt]),_:1}),n(o,null,{default:m(()=>[Ot]),_:1}),n(o,null,{default:m(()=>[At]),_:1}),n(o,null,{default:m(()=>[Mt]),_:1}),n(o,null,{default:m(()=>[Nt]),_:1})]),_:1}),n(le,{title:"\u65B0\u54C1\u4E0A\u7EBF",dataItem:T(t)},null,8,["dataItem"]),n(le,{title:"\u70ED\u9500\u4EA7\u54C1",dataItem:T(h)},null,8,["dataItem"])])}}},qt=Xe(Ht,[["__scopeId","data-v-47a061de"]]);export{qt as default};
