import{_ as g,o as y,c as v,a as m,B as M,f as x,g as I,I as V,N as T,C as H,D as L,E as B,k as u,w as h,j as d,H as c,J as P,K as $,t as f,L as W,p as z,m as D}from"./index.6c1c6a16.js";import{l as R,s as _,r as U}from"./index.5463e598.js";const E=""+new URL("logo.1e8c34ec.png",import.meta.url).href,q={name:"verify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:35},backgroundColorMin:{type:Number,default:200},backgroundColorMax:{type:Number,default:220},dotColorMin:{type:Number,default:60},dotColorMax:{type:Number,default:120},contentWidth:{type:Number,default:90},contentHeight:{type:Number,default:38}},methods:{randomNum(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor(e,t){let o=this.randomNum(e,t),n=this.randomNum(e,t),i=this.randomNum(e,t);return"rgb("+o+","+n+","+i+")"},drawPic(){let t=document.getElementById("s-canvas").getContext("2d");t.textBaseline="bottom",t.fillStyle="#e6ecfd",t.fillRect(0,0,this.contentWidth,this.contentHeight);for(let o=0;o<this.identifyCode.length;o++)this.drawText(t,this.identifyCode[o],o);this.drawLine(t),this.drawDot(t)},drawText(e,t,o){e.fillStyle=this.randomColor(50,160),e.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";let n=(o+1)*(this.contentWidth/(this.identifyCode.length+1)),i=this.randomNum(this.fontSizeMax,this.contentHeight-5);var s=this.randomNum(-30,30);e.translate(n,i),e.rotate(s*Math.PI/180),e.fillText(t,0,0),e.rotate(-s*Math.PI/180),e.translate(-n,-i)},drawLine(e){for(let t=0;t<4;t++)e.strokeStyle=this.randomColor(100,200),e.beginPath(),e.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.stroke()},drawDot(e){for(let t=0;t<30;t++)e.fillStyle=this.randomColor(0,255),e.beginPath(),e.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),e.fill()}},watch:{identifyCode(){this.drawPic()}},mounted(){this.drawPic()}},F={class:"s-canvas"},j=["width","height"];function J(e,t,o,n,i,s){return y(),v("div",F,[m("canvas",{id:"s-canvas",width:o.contentWidth,height:o.contentHeight},null,8,j)])}const K=g(q,[["render",J]]);const A=e=>(z("data-v-e41e0e72"),e=e(),D(),e),G={class:"login"},O=A(()=>m("img",{src:E,alt:""},null,-1)),Q={class:"verify",style:{display:"flex",width:"100%","margin-top":"10px"}},X={style:{margin:"16px"}},Y={__name:"Login",setup(e){let t=M(),o=x({username:"17001100999",password:"123456",isTitle:!0}),{username:n,password:i,isTitle:s}=I(o),N=()=>{},w=()=>{o.isTitle?R(o.username,o.password).then(l=>{l.resultCode==200&&(localStorage.setItem("mltoken",l.data),t.replace("/home"),_({type:"success",message:"\u767B\u5F55\u6210\u529F"}))}):U(o.username,o.password).then(l=>{l.resultCode==200&&(_({type:"success",message:"\u6CE8\u518C\u6210\u529F"}),o.isTitle=!0)})};return(l,a)=>{const b=V,C=T,p=H,S=L,k=B;return y(),v("div",G,[u(C,{title:d(s)?"\u767B\u5F55":"\u6CE8\u518C","left-arrow":"",onClickLeft:d(N)},{right:h(()=>[u(b,{name:"ellipsis",size:"18"})]),_:1},8,["title","onClickLeft"]),O,u(k,{onSubmit:d(w)},{default:h(()=>[u(p,{modelValue:d(n),"onUpdate:modelValue":a[0]||(a[0]=r=>c(n)?n.value=r:n=r),name:"\u7528\u6237\u540D",label:"\u7528\u6237\u540D",placeholder:"\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u7528\u6237\u540D"}]},null,8,["modelValue"]),u(p,{modelValue:d(i),"onUpdate:modelValue":a[1]||(a[1]=r=>c(i)?i.value=r:i=r),type:"password",name:"\u5BC6\u7801",label:"\u5BC6\u7801",placeholder:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801"}]},null,8,["modelValue"]),m("div",Q,[P(m("input",{type:"text",placeholder:"\u9A8C\u8BC1\u7801","onUpdate:modelValue":a[2]||(a[2]=r=>l.identifyVal=r)},null,512),[[$,l.identifyVal]]),m("div",{class:"code",onClick:a[3]||(a[3]=(...r)=>l.refreshCode&&l.refreshCode(...r)),style:{width:"112px"}},[u(K)])]),m("div",X,[m("p",{class:"link-register",onClick:a[4]||(a[4]=r=>c(s)?s.value=!d(s):s=!d(s))},f(d(s)?"\u7ACB\u5373\u6CE8\u518C":"\u5DF2\u6709\u8D26\u53F7\uFF0C\u7ACB\u5373\u767B\u5F55"),1),u(S,{round:"",block:"",type:"primary","native-type":"submit"},{default:h(()=>[W(f(d(s)?"\u767B\u5F55":"\u6CE8\u518C"),1)]),_:1})])]),_:1},8,["onSubmit"])])}}},te=g(Y,[["__scopeId","data-v-e41e0e72"]]);export{te as default};
